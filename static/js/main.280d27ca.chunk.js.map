{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","services/api.jsx","components/ImageGallery/ImageGallery.jsx","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","getItems","query","page","axios","get","params","key","q","image_type","orientation","per_page","ImageGallery","children","className","styles","imageGallery","SearchBar","state","value","handleChange","target","setState","handleSubmit","e","preventDefault","onSubmit","props","this","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","onChange","searchFormInput","autoComplete","placeholder","Component","ImageGalleryItem","item","onClick","smallImg","largeImg","alt","role","imageGalleryItem","src","data-largeimg","imageGalleryItemImage","Loader","loader","color","height","width","timeout","Button","button","Modal","handleCloseOnEscape","code","onClose","handleCloseOnClick","currentTarget","window","addEventListener","removeEventListener","overlay","modal","mapper","items","map","webformatURL","largeImageURL","tags","id","App","isLoading","pageNumber","searchQuery","isOpenModal","openImg","fetchArticles","API","then","data","prevState","hits","catch","err","Error","finally","handleSearch","handleLoadMore","handleOpenModal","dataset","largeimg","handleCloseModal","prevProps","document","documentElement","scrollHeight","scrollTop","clientHeight","shouldScroll","snapshot","scrollTo","top","behavior","app","length","uuid","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.280d27ca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__7B3Bb\",\"modal\":\"Modal_modal__3DFcb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1dvqx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__QU0ZQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1AQO1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3XXBo\"};","import axios from 'axios';\n\nexport const getItems = (query, page) => {\n  const KEY = '12970042-452422569eb847c96e4cb5bfd';\n  const url = 'https://pixabay.com/api/';\n  return axios.get(url, {\n    params: {\n      key: KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      per_page: 12,\n      page,\n    },\n  });\n};\n\nexport const w = () => null;\n\n// import axios from 'axios';\n\n// export const getItems = (query, page) => {\n//   const key = '12970042-452422569eb847c96e4cb5bfd';\n//   const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n//   return axios.get(url);\n// };\n\n// export const w = () => null;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={styles.imageGallery}>{children}</ul>;\n};\n\nImageGallery.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    value: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = ({ target }) => {\n    this.setState({ value: target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={value}\n            onChange={this.handleChange}\n            className={styles.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item, onClick }) => {\n  const { smallImg, largeImg, alt, key } = item;\n  return (\n    <li\n      key={key}\n      role=\"presentation\"\n      onClick={onClick}\n      className={styles.imageGalleryItem}\n    >\n      <img\n        src={smallImg}\n        data-largeimg={largeImg}\n        alt={alt}\n        className={styles.imageGalleryItemImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    smallImg: PropTypes.string.isRequired,\n    largeImg: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    key: PropTypes.number.isRequired,\n  }).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.loader}>\n      <LoaderComponent\n        type=\"Rings\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} className={styles.button} type=\"button\">\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseOnEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseOnEscape);\n  }\n\n  handleCloseOnEscape = ({ code }) => {\n    if (code !== 'Escape') return;\n\n    const { onClose } = this.props;\n    onClose();\n  };\n\n  handleCloseOnClick = ({ target, currentTarget }) => {\n    const { onClose } = this.props;\n    if (currentTarget === target) {\n      onClose();\n    }\n  };\n\n  render() {\n    const { src } = this.props;\n\n    return (\n      <div\n        className={styles.overlay}\n        role=\"presentation\"\n        onClick={this.handleCloseOnClick}\n      >\n        <div className={styles.modal}>\n          <img src={src} alt=\"openImg\" width=\"800\" height=\"600\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport uuid from 'uuid';\nimport styles from './App.module.css';\nimport * as API from '../../services/api';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nconst mapper = items => {\n  return items.map(\n    ({\n      webformatURL: smallImg,\n      largeImageURL: largeImg,\n      tags: alt,\n      id: key,\n      ...props\n    }) => ({\n      smallImg,\n      largeImg,\n      alt,\n      key,\n      ...props,\n    }),\n  );\n};\n\nclass App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    pageNumber: 1,\n    searchQuery: '',\n    isOpenModal: false,\n    openImg: '',\n  };\n\n  componentDidMount() {\n    const { searchQuery, pageNumber } = this.state;\n    this.fetchArticles(searchQuery, pageNumber);\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    const { scrollHeight, scrollTop, clientHeight } = document.documentElement;\n    if (prevState !== this.state) {\n      return {\n        shouldScroll: scrollHeight - scrollTop === clientHeight,\n      };\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { searchQuery, pageNumber } = this.state;\n\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.fetchArticles(searchQuery, pageNumber);\n    }\n\n    const initialPage = 1;\n\n    if (pageNumber !== initialPage && snapshot && snapshot.shouldScroll) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchArticles = (query, page) => {\n    this.setState({ isLoading: true });\n\n    API.getItems(query, page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          items: [...prevState.items, ...mapper(data.hits)],\n        }));\n      })\n      .catch(err => {\n        throw new Error(err);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, pageNumber: 1, items: [] });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  handleOpenModal = ({ target }) => {\n    this.setState({ isOpenModal: true, openImg: target.dataset.largeimg });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  render() {\n    const { items, isLoading, isOpenModal, openImg } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <SearchBar onSubmit={this.handleSearch} />\n        {isLoading && <Loader />}\n        {items.length ? (\n          <>\n            <ImageGallery>\n              {items.map(item => (\n                <ImageGalleryItem\n                  key={uuid()}\n                  item={item}\n                  onClick={this.handleOpenModal}\n                />\n              ))}\n            </ImageGallery>\n            <Button onClick={this.handleLoadMore} />\n          </>\n        ) : null}\n        {isOpenModal && <Modal onClose={this.handleCloseModal} src={openImg} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__3lCs6\",\"searchForm\":\"SearchBar_searchForm__3gDmy\",\"searchFormButton\":\"SearchBar_searchFormButton__aTkAN\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__1KQUB\",\"searchFormInput\":\"SearchBar_searchFormInput__38qE_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3BW2R\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3kxYr\"};"],"sourceRoot":""}