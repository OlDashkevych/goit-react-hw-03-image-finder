(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__7B3Bb",modal:"Modal_modal__3DFcb"}},26:function(e,t,a){e.exports={app:"App_app__1dvqx"}},28:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__QU0ZQ"}},30:function(e,t,a){e.exports={loader:"Loader_loader__1AQO1"}},31:function(e,t,a){e.exports={button:"Button_button__3XXBo"}},33:function(e,t,a){e.exports=a(79)},38:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),l=(a(38),a(11)),i=a(3),s=a(4),m=a(6),u=a(5),p=a(7),h=a(24),d=a(32),g=a(25),f=a.n(g),b=a(26),y=a.n(b),v=a(27),O=a.n(v),_=function(e,t){var a="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("12970042-452422569eb847c96e4cb5bfd","&image_type=photo&orientation=horizontal&per_page=12");return O.a.get(a)},E=a(28),j=a.n(E),k=function(e){var t=e.children;return r.a.createElement("ul",{className:j.a.imageGallery},t)},I=a(8),C=a.n(I),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleChange=function(e){var t=e.target;a.setState({value:t.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.value;(0,a.props.onSubmit)(t),a.setState({value:""})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("header",{className:C.a.searchbar},r.a.createElement("form",{className:C.a.searchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:C.a.searchFormButton},r.a.createElement("span",{className:C.a.searchFormButtonLabel},"Search")),r.a.createElement("input",{value:e,onChange:this.handleChange,className:C.a.searchFormInput,type:"text",autoComplete:"off",placeholder:"Search images and photos"})))}}]),t}(n.Component),S=a(9),N=a.n(S),B=function(e){var t=e.item,a=e.onClick,n=t.smallImg,o=t.largeImg,c=t.alt,l=t.key;return r.a.createElement("li",{key:l,role:"presentation",onClick:a,className:N.a.imageGalleryItem},r.a.createElement("img",{src:n,"data-largeimg":o,alt:c,className:N.a.imageGalleryItemImage}))},F=a(29),L=a.n(F),M=a(30),x=a.n(M),G=function(){return r.a.createElement("div",{className:x.a.loader},r.a.createElement(L.a,{type:"Rings",color:"#00BFFF",height:100,width:100,timeout:3e3}))},D=a(31),A=a.n(D),Q=function(e){var t=e.onClick;return r.a.createElement("button",{onClick:t,className:A.a.button,type:"button"},"Load more")},P=a(10),U=a.n(P),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleCloseOnEscape=function(e){"Escape"===e.code&&(0,a.props.onClose)()},a.handleCloseOnClick=function(e){var t=e.target,n=e.currentTarget,r=a.props.onClose;n===t&&r()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseOnEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseOnEscape)}},{key:"render",value:function(){var e=this.props.src;return r.a.createElement("div",{className:U.a.overlay,role:"presentation",onClick:this.handleCloseOnClick},r.a.createElement("div",{className:U.a.modal},r.a.createElement("img",{src:e,alt:"openImg",width:"800",height:"600"})))}}]),t}(n.Component);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var T=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({smallImg:e.webformatURL,largeImg:e.largeImageURL,alt:e.tags,key:e.id},Object(d.a)(e,["webformatURL","largeImageURL","tags","id"]))}))},J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],isLoading:!1,pageNumber:1,searchQuery:"",isOpenModal:!1,openImg:""},a.fetchArticles=function(e,t){a.setState({isLoading:!0}),_(e,t).then((function(e){var t=e.data;a.setState((function(e){return{items:[].concat(Object(l.a)(e.items),Object(l.a)(T(t.hits)))}}))})).catch((function(e){throw new Error(e)})).finally((function(){return a.setState({isLoading:!1})}))},a.handleSearch=function(e){a.setState({searchQuery:e,pageNumber:1,items:[]})},a.handleLoadMore=function(){a.setState((function(e){return{pageNumber:e.pageNumber+1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},a.handleOpenModal=function(e){var t=e.target;a.setState({isOpenModal:!0,openImg:t.dataset.largeimg})},a.handleCloseModal=function(){a.setState({isOpenModal:!1})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.searchQuery,a=e.pageNumber;this.fetchArticles(t,a)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.searchQuery,r=a.pageNumber;t.searchQuery===n&&t.pageNumber===r||this.fetchArticles(n,r)}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.isLoading,o=t.isOpenModal,c=t.openImg;return r.a.createElement("div",{className:y.a.app},r.a.createElement(w,{onSubmit:this.handleSearch}),n&&r.a.createElement(G,null),a.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null,a.map((function(t){return r.a.createElement(B,{key:f()(),item:t,onClick:e.handleOpenModal})}))),r.a.createElement(Q,{onClick:this.handleLoadMore})),o&&r.a.createElement(R,{onClose:this.handleCloseModal,src:c}))}}]),t}(n.Component);c.a.render(r.a.createElement(J,null),document.getElementById("root"))},8:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__3lCs6",searchForm:"SearchBar_searchForm__3gDmy",searchFormButton:"SearchBar_searchFormButton__aTkAN",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__1KQUB",searchFormInput:"SearchBar_searchFormInput__38qE_"}},9:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3BW2R",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__3kxYr"}}},[[33,1,2]]]);
//# sourceMappingURL=main.f11e67dd.chunk.js.map