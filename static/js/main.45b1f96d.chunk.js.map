{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","services/api.jsx","components/ImageGallery/ImageGallery.jsx","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","getItems","query","page","url","axios","get","ImageGallery","children","className","styles","imageGallery","SearchBar","state","value","handleChange","target","setState","handleSubmit","e","preventDefault","onSubmit","props","this","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","onChange","searchFormInput","autoComplete","placeholder","Component","ImageGalleryItem","item","onClick","smallImg","largeImg","alt","key","role","imageGalleryItem","src","data-largeimg","imageGalleryItemImage","Loader","loader","color","height","width","timeout","Button","button","Modal","handleCloseOnEscape","code","onClose","handleCloseOnClick","currentTarget","window","addEventListener","removeEventListener","overlay","modal","mapper","items","map","webformatURL","largeImageURL","tags","id","App","isLoading","pageNumber","searchQuery","isOpenModal","openImg","fetchArticles","API","then","data","prevState","hits","catch","err","Error","finally","handleSearch","handleLoadMore","handleOpenModal","dataset","largeimg","handleCloseModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","app","length","uuid","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.45b1f96d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__7B3Bb\",\"modal\":\"Modal_modal__3DFcb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1dvqx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__QU0ZQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1AQO1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3XXBo\"};","import axios from 'axios';\n\nexport const getItems = (query, page) => {\n  const key = '12970042-452422569eb847c96e4cb5bfd';\n  const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(url);\n};\n\nexport const w = () => null;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={styles.imageGallery}>{children}</ul>;\n};\n\nImageGallery.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    value: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = ({ target }) => {\n    this.setState({ value: target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={value}\n            onChange={this.handleChange}\n            className={styles.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item, onClick }) => {\n  const { smallImg, largeImg, alt, key } = item;\n  return (\n    <li\n      key={key}\n      role=\"presentation\"\n      onClick={onClick}\n      className={styles.imageGalleryItem}\n    >\n      <img\n        src={smallImg}\n        data-largeimg={largeImg}\n        alt={alt}\n        className={styles.imageGalleryItemImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    smallImg: PropTypes.string.isRequired,\n    largeImg: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    key: PropTypes.number.isRequired,\n  }).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.loader}>\n      <LoaderComponent\n        type=\"Rings\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} className={styles.button} type=\"button\">\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseOnEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseOnEscape);\n  }\n\n  handleCloseOnEscape = ({ code }) => {\n    if (code !== 'Escape') return;\n\n    const { onClose } = this.props;\n    onClose();\n  };\n\n  handleCloseOnClick = ({ target, currentTarget }) => {\n    const { onClose } = this.props;\n    if (currentTarget === target) {\n      onClose();\n    }\n  };\n\n  render() {\n    const { src } = this.props;\n\n    return (\n      <div\n        className={styles.overlay}\n        role=\"presentation\"\n        onClick={this.handleCloseOnClick}\n      >\n        <div className={styles.modal}>\n          <img src={src} alt=\"openImg\" width=\"800\" height=\"600\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport uuid from 'uuid';\nimport styles from './App.module.css';\nimport * as API from '../../services/api';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nconst mapper = items => {\n  return items.map(\n    ({\n      webformatURL: smallImg,\n      largeImageURL: largeImg,\n      tags: alt,\n      id: key,\n      ...props\n    }) => ({\n      smallImg,\n      largeImg,\n      alt,\n      key,\n      ...props,\n    }),\n  );\n};\n\nclass App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    pageNumber: 1,\n    searchQuery: '',\n    isOpenModal: false,\n    openImg: '',\n  };\n\n  componentDidMount() {\n    const { searchQuery, pageNumber } = this.state;\n    this.fetchArticles(searchQuery, pageNumber);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.fetchArticles(searchQuery, pageNumber);\n    }\n  }\n\n  fetchArticles = (query, page) => {\n    this.setState({ isLoading: true });\n\n    API.getItems(query, page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          items: [...prevState.items, ...mapper(data.hits)],\n        }));\n      })\n      .catch(err => {\n        throw new Error(err);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, pageNumber: 1, items: [] });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  handleOpenModal = ({ target }) => {\n    this.setState({ isOpenModal: true, openImg: target.dataset.largeimg });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  render() {\n    const { items, isLoading, isOpenModal, openImg } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <SearchBar onSubmit={this.handleSearch} />\n        {isLoading && <Loader />}\n        {items.length ? (\n          <>\n            <ImageGallery>\n              {items.map(item => (\n                <ImageGalleryItem\n                  key={uuid()}\n                  item={item}\n                  onClick={this.handleOpenModal}\n                />\n              ))}\n            </ImageGallery>\n            <Button onClick={this.handleLoadMore} />\n          </>\n        ) : null}\n        {isOpenModal && <Modal onClose={this.handleCloseModal} src={openImg} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__3lCs6\",\"searchForm\":\"SearchBar_searchForm__3gDmy\",\"searchFormButton\":\"SearchBar_searchFormButton__aTkAN\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__1KQUB\",\"searchFormInput\":\"SearchBar_searchFormInput__38qE_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3BW2R\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3kxYr\"};"],"sourceRoot":""}