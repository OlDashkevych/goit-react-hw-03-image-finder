(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__7B3Bb",modal:"Modal_modal__3DFcb"}},23:function(e,t,a){e.exports={app:"App_app__1dvqx"}},25:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__QU0ZQ"}},27:function(e,t,a){e.exports={loader:"Loader_loader__1AQO1"}},28:function(e,t,a){e.exports={button:"Button_button__3XXBo"}},30:function(e,t,a){e.exports=a(74)},35:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),l=(a(35),a(11)),i=a(3),s=a(4),m=a(6),u=a(5),p=a(7),h=a(22),d=a(29),g=a(23),f=a.n(g),b=a(24),y=a.n(b),v=function(e,t){var a="https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("12970042-452422569eb847c96e4cb5bfd","&image_type=photo&orientation=horizontal&per_page=12");return y.a.get(a)},O=a(25),_=a.n(O),E=function(e){var t=e.children;return r.a.createElement("ul",{className:_.a.imageGallery},t)},j=a(8),I=a.n(j),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleChange=function(e){var t=e.target;a.setState({value:t.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.value;(0,a.props.onSubmit)(t),a.setState({value:""})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("header",{className:I.a.searchbar},r.a.createElement("form",{className:I.a.searchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:I.a.searchFormButton},r.a.createElement("span",{className:I.a.searchFormButtonLabel},"Search")),r.a.createElement("input",{value:e,onChange:this.handleChange,className:I.a.searchFormInput,type:"text",autoComplete:"off",placeholder:"Search images and photos"})))}}]),t}(n.Component),k=a(9),w=a.n(k),S=function(e){var t=e.item,a=e.onClick,n=t.smallImg,o=t.largeImg,c=t.alt;return r.a.createElement("li",{role:"presentation",onClick:a,className:w.a.imageGalleryItem},r.a.createElement("img",{src:n,"data-largeimg":o,alt:c,className:w.a.ImageGalleryItemImage}))},N=a(26),B=a.n(N),F=a(27),L=a.n(F),M=function(){return r.a.createElement("div",{className:L.a.loader},r.a.createElement(B.a,{type:"Rings",color:"#00BFFF",height:100,width:100,timeout:3e3}))},x=a(28),G=a.n(x),D=function(e){var t=e.onClick;return r.a.createElement("button",{onClick:t,className:G.a.button,type:"button"},"Load more")},A=a(10),Q=a.n(A),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleCloseOnEscape=function(e){"Escape"===e.code&&(0,a.props.onClose)()},a.handleCloseOnClick=function(e){var t=e.target,n=e.currentTarget,r=a.props.onClose;n===t&&r()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseOnEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseOnEscape)}},{key:"render",value:function(){var e=this.props.src;return r.a.createElement("div",{className:Q.a.overlay,role:"presentation",onClick:this.handleCloseOnClick},r.a.createElement("div",{className:Q.a.modal},r.a.createElement("img",{src:e,alt:"openImg",width:"800",height:"600"})))}}]),t}(n.Component);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var R=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({smallImg:e.webformatURL,largeImg:e.largeImageURL,alt:e.tags,key:e.id},Object(d.a)(e,["webformatURL","largeImageURL","tags","id"]))}))},q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],isLoading:!1,pageNumber:1,searchQuery:"",isOpenModal:!1,openImg:""},a.fetchArticles=function(e,t){a.setState({isLoading:!0}),v(e,t).then((function(e){var t=e.data;a.setState((function(e){return{items:[].concat(Object(l.a)(e.items),Object(l.a)(R(t.hits)))}}))})).catch((function(e){throw new Error(e)})).finally((function(){return a.setState({isLoading:!1})}))},a.handleSearch=function(e){a.setState({searchQuery:e,pageNumber:1,items:[]})},a.handleLoadMore=function(){a.setState((function(e){return{pageNumber:e.pageNumber+1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},a.handleOpenModal=function(e){var t=e.target;a.setState({isOpenModal:!0,openImg:t.dataset.largeimg})},a.handleCloseModal=function(){a.setState({isOpenModal:!1})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.searchQuery,a=e.pageNumber;this.fetchArticles(t,a)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.searchQuery,r=a.pageNumber;t.searchQuery===n&&t.pageNumber===r||this.fetchArticles(n,r)}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.isLoading,o=t.isOpenModal,c=t.openImg,l=a.id;return r.a.createElement("div",{className:f.a.app},r.a.createElement(C,{onSubmit:this.handleSearch}),n&&r.a.createElement(M,null),a.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null,a.map((function(t){return r.a.createElement(S,{key:l,item:t,onClick:e.handleOpenModal})}))),r.a.createElement(D,{onClick:this.handleLoadMore})),o&&r.a.createElement(P,{onClose:this.handleCloseModal,src:c}))}}]),t}(n.Component);c.a.render(r.a.createElement(q,null),document.getElementById("root"))},8:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__3lCs6",searchForm:"SearchBar_searchForm__3gDmy",searchFormButton:"SearchBar_searchFormButton__aTkAN",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__1KQUB",searchFormInput:"SearchBar_searchFormInput__38qE_"}},9:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3BW2R",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__3kxYr"}}},[[30,1,2]]]);
//# sourceMappingURL=main.f4905322.chunk.js.map